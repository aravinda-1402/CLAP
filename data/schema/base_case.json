{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CLAP Base Case",
  "description": "Synthetic clinical base case (no PHI)",
  "type": "object",
  "required": ["base_id", "domain", "demographics", "comorbidities", "meds", "vitals", "labs", "allergies", "pregnancy_flag", "notes", "summary"],
  "properties": {
    "base_id": { "type": "string", "pattern": "^base_[a-z0-9_]+$" },
    "domain": { "type": "string", "enum": ["anticoagulation", "diabetes", "htn", "asthma_copd", "ckd_dosing", "pregnancy_meds", "infection_antibiotics", "pain_opioids", "chf", "thyroid"] },
    "demographics": {
      "type": "object",
      "required": ["age_group", "sex"],
      "properties": {
        "age_group": { "type": "string" },
        "sex": { "type": "string", "enum": ["M", "F", "O"] }
      }
    },
    "comorbidities": { "type": "array", "items": { "type": "string" } },
    "meds": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "dose": { "type": "string" },
          "freq": { "type": "string" }
        }
      }
    },
    "vitals": { "type": "object", "additionalProperties": { "type": ["number", "string"] } },
    "labs": { "type": "object", "additionalProperties": { "type": ["number", "string"] } },
    "allergies": { "type": "array", "items": { "type": "string" } },
    "pregnancy_flag": { "type": "boolean" },
    "notes": { "type": "string" },
    "summary": { "type": "string" }
  }
}
